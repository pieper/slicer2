#! /bin/csh

# USAGE: Copy this file to /d/bigdaily (at BWH), and then run it.
# It will create a complete installation of the Slicer. 
# You may then tar up the slicer directory and install it
# somewhere else (see the README file).

# NOTE: You must compile Tcl, Tk, and VTK first and set 
# their paths below.

# Paths to your Tcl and Tk
setenv MY_TCL /export/bigsur/vtk/tcl8.3.0/
setenv MY_TK /export/bigsur/vtk/tk8.3.0/

# Version number of your Tcl and Tk
setenv MY_VER_NUM 8.3.0

# Path to your VTK
setenv MY_VTK /export/bigsur/vtk/vtk_nightly

# Your CVSROOT for checking out slicer through cvs
if (${?CVSROOT} == 0) then
    setenv CVSROOT /projects/cvs/slicer
endif


# Get the latest source code from CVS.
echo Checkout into cvs directory
mkdir cvs
cd cvs
cvs checkout slicer
cd ..
echo CVS DONE

# Make the installation directory
echo Making slicer directory
mkdir slicer
cd slicer

# Copy stuff from cvs to install directory
echo Copy the program directory
cp -r ../cvs/slicer/program .
echo Copy the doc directory
cp -r ../cvs/slicer/doc .

# Now copy Tcl, Tk, and VTK stuff into the install directory

echo Copy tcl and tk binaries
mkdir lib
cp ${MY_TCL}/unix/libtcl*.so lib
cp ${MY_TK}/unix/libtk*.so lib

echo Copy tcl and tk library directories
mkdir lib/tcl${MY_VER_NUM}
mkdir lib/tk${MY_VER_NUM}
cp -r ${MY_TCL}/library lib/tcl${MY_VER_NUM}
cp -r ${MY_TK}/library lib/tk${MY_VER_NUM}

echo Copy vtk binaries
cp ${MY_VTK}/*/*.so lib

echo Copy vtk executable
cp ${MY_VTK}/tcl/vtk program

echo Copy tclsh
cp ${MY_TCL}/unix/tclsh program

echo Copy vtk scripts 
cp ../cvs/slicer/slicer2k .
cp ../cvs/slicer/mrmlize .
cp ../cvs/slicer/printmrml .

echo Copy the VTK Sources
cp -r ../cvs/slicer/vtksrc vtksrc

echo Finished.  Please change SLICER_HOME when you install. 

