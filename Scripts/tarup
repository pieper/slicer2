#! /bin/csh

# USAGE: Copy this file to /d/bigdaily (at BWH), and then run it.
# It will create a complete installation of the Slicer. 
# You may then tar up the slicer directory and install it
# somewhere else (see the README file).

# NOTE: You must compile Tcl, Tk, and VTK first and set 
# their paths below.

# NOTE for BWH installs:  the following need to be manually grabbed and put 
# into the install package (or added to this script)...

# program/loc.txt
# program/bin/print_header
# for BWH only : program/mi-bin and servers/SignaSP/spl_server


echo Slicer tarup script '$Revision: 1.14 $'...

# Set the version number of the slicer directory to create
setenv MY_SLICER_VERSION 1.0.2

# Set these paths to your Tcl and Tk
setenv MY_TCL /local/src/tcl8.3.0/
setenv MY_TK /local/src/tk8.3.0/
echo Tcl path: $MY_TCL
echo Tk path: $MY_TK

# Set the version number of your Tcl and Tk
setenv MY_VER_NUM 8.3
echo Tcl/Tk version: MY_VER_NUM

# Set the path to your VTK
setenv MY_VTK /local/src/vtk31
echo VTK path: $MY_VTK

# Set your CVSROOT for checking out slicer through cvs (if needed)
if (${?CVSROOT} == 0) then
    setenv CVSROOT /projects/cvs/slicer
endif

# Get the latest source code from CVS.
echo Checking out slicer from CVS...
cvs checkout slicer

# Make the installation directory
echo Moving to slicer install directory
mv slicer slicer-$MY_SLICER_VERSION
cd  slicer-$MY_SLICER_VERSION

# Now copy Tcl, Tk, and VTK stuff into the install directory
echo Copying tcl and tk binaries
cp ${MY_TCL}/unix/libtcl*.so lib
cp ${MY_TK}/unix/libtk*.so lib

echo Copying tcl and tk library directories
mkdir lib/tcl${MY_VER_NUM}
mkdir lib/tk${MY_VER_NUM}
cp -r ${MY_TCL}/library/* lib/tcl${MY_VER_NUM}
cp -r ${MY_TK}/library/* lib/tk${MY_VER_NUM}

echo Copying vtk binaries
cp ${MY_VTK}/*/*.so lib

echo Copying vtk executable
cp ${MY_VTK}/tcl/vtk program

echo Copying tclsh
cp ${MY_TCL}/unix/tclsh program

echo Finished.  
echo Please change SLICER_HOME in the slicer2k script when you install. 

